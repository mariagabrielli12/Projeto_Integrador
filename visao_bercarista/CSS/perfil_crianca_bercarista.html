<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil da Criança - Berçarista</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="CSS_Bercarista/Style_bercarista.css">
</head>
<body>
   <div class="sidebar">
   <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <h1>Rede Educacional</h1>
        </div>
    <div class="menu">
      <div class="menu-section">
        <div class="menu-item">
          <a href="index_bercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-home"></i><span>Início</span></a>
        </div>

        <div class="menu-item">
          <a href="rotina_diaria.html" style="color:inherit; text-decoration:none;"><i class="fas fa-clipboard-list"></i><span>Registro de Rotina</span></a>
        </div>

        <div class="menu-item">
          <a href="ocorrencias_bercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-exclamation-triangle"></i><span>Ocorrências</span></a>
        </div>

        <div class="menu-item active">
          <a href="perfil_crianca_bercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-user-friends"></i><span>Perfis alunos</span></a>
        </div>
        
        <div class="menu-item">
          <a href="avisos_bercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-bell"></i><span>Avisos</span></a>
        </div>

        <div class="menu-item">
          <a href="presenca_bercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-check-circle"></i><span>Controle de Presença</span></a>
        </div>

        <div class="menu-item">
          <a href="../../tela_login/telabercarista.html" style="color:inherit; text-decoration:none;"><i class="fas fa-sign-out-alt"></i><span>Sair</span></a>
        </div>
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="header">
      <div class="page-title">
        <i class="fas fa-child"></i>
        <h2>Perfil da Criança</h2>
      </div>
      <div class="user-info">
        <div class="user-avatar">BR</div>
        <span>Berçarista</span> </div>
    </div>

    <div class="content-container">
      <div class="card">
        <div class="card-header">
          <h3 class="section-title">Selecionar Criança</h3>
        </div>
        <div class="card-body">
          <div class="form-row">
            <div class="form-group">
              <label for="select-turma">Turma</label>
              <select id="select-turma" class="form-control">
                <option value="">Selecione uma turma</option>
              </select>
            </div>
            <div class="form-group">
              <label for="select-aluno">Aluno</label>
              <select id="select-aluno" class="form-control" disabled>
                <option value="">Selecione um aluno</option>
              </select>
            </div>
          </div>
          <div class="form-actions" style="margin-top: 20px; justify-content: flex-end;">
            <button class="btn btn-primary" id="btn-ver-perfil" disabled><i class="fas fa-eye"></i> Ver Perfil</button>
          </div>
        </div>
      </div>

      <div class="card" id="perfil-info-card" style="margin-top: 25px; display: none;">
        <div class="card-header">
          <h3 class="section-title">Informações da Criança</h3>
        </div>
        <div class="card-body">
          <div class="form-row">
            <div class="form-group">
              <label for="nome-crianca">Nome Completo</label>
              <input type="text" id="nome-crianca" readonly>
            </div>
            <div class="form-group">
              <label for="nascimento-crianca">Data de Nascimento</label>
              <input type="text" id="nascimento-crianca" readonly>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="turma-crianca">Turma</label>
              <input type="text" id="turma-crianca-display" readonly>
            </div>
            <div class="form-group">
              <label for="turno-crianca">Turno</label>
              <input type="text" id="turno-crianca" readonly>
            </div>
          </div>
          
          <h4 class="section-subtitle" style="margin-top: 20px;">Informações Adicionais</h4>
          <div class="form-row">
            <div class="form-group">
              <label for="alergias">Alergias</label>
              <input type="text" id="alergias" readonly>
            </div>
            <div class="form-group">
              <label for="medicamentos">Medicamentos</label>
              <input type="text" id="medicamentos" readonly>
            </div>
          </div>
          <div class="form-group">
            <label for="restricoes-alimentares">Restrições Alimentares</label>
            <textarea id="restricoes-alimentares" rows="3" readonly></textarea>
          </div>

          <h4 class="section-subtitle" style="margin-top: 20px;">Contato de Emergência</h4>
          <div class="form-row">
            <div class="form-group">
              <label for="nome-emergencia">Nome</label>
              <input type="text" id="nome-emergencia" readonly>
            </div>
            <div class="form-group">
              <label for="telefone-emergencia">Telefone</label>
              <input type="text" id="telefone-emergencia" readonly>
            </div>
          </div>
          <div class="form-group">
            <label for="parentesco-emergencia">Parentesco</label>
            <input type="text" id="parentesco-emergencia" readonly>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const turmas = {
      "Maternal I - A": [
        { nome: "Alice Silva", id: "alice_silva" },
        { nome: "Bruno Souza", id: "bruno_souza" },
        { nome: "Carla Dias", id: "carla_dias" }
      ],
      "Maternal I - B": [
        { nome: "Daniel Costa", id: "daniel_costa" },
        { nome: "Eduarda Santos", id: "eduarda_santos" },
        { nome: "Felipe Almeida", id: "felipe_almeida" }
      ],
      "Maternal II - C": [
        { nome: "Gabriela Lima", id: "gabriela_lima" },
        { nome: "Heitor Pereira", id: "heitor_pereira" },
        { nome: "Isabela Rocha", id: "isabela_rocha" }
      ]
    };

    const alunosData = {
      "alice_silva": {
        nome: "Alice Silva",
        nascimento: "10/01/2022",
        turma: "Maternal I - A",
        turno: "Manhã",
        alergias: "Pólen",
        medicamentos: "Nenhum",
        restricoes: "Sem glúten",
        emergencia_nome: "Maria Silva (Mãe)",
        emergencia_telefone: "(11) 98765-4321",
        emergencia_parentesco: "Mãe"
      },
      "bruno_souza": {
        nome: "Bruno Souza",
        nascimento: "05/03/2022",
        turma: "Maternal I - A",
        turno: "Tarde",
        alergias: "Nenhuma",
        medicamentos: "Aerolin (em caso de crise)",
        restricoes: "Nenhuma",
        emergencia_nome: "Pedro Souza (Pai)",
        emergencia_telefone: "(11) 91234-5678",
        emergencia_parentesco: "Pai"
      },
      "carla_dias": {
        nome: "Carla Dias",
        nascimento: "20/05/2022",
        turma: "Maternal I - A",
        turno: "Manhã",
        alergias: "Amendoim",
        medicamentos: "Nenhum",
        restricoes: "Nenhuma",
        emergencia_nome: "Fernanda Dias (Mãe)",
        emergencia_telefone: "(11) 99876-1234",
        emergencia_parentesco: "Mãe"
      },
      "daniel_costa": {
        nome: "Daniel Costa",
        nascimento: "01/02/2022",
        turma: "Maternal I - B",
        turno: "Tarde",
        alergias: "Nenhuma",
        medicamentos: "Nenhum",
        restricoes: "Vegetariano",
        emergencia_nome: "Juliana Costa (Mãe)",
        emergencia_telefone: "(11) 95555-4444",
        emergencia_parentesco: "Mãe"
      },
      "eduarda_santos": {
        nome: "Eduarda Santos",
        nascimento: "12/04/2022",
        turma: "Maternal I - B",
        turno: "Manhã",
        alergias: "Pelo de gato",
        medicamentos: "Anti-histamínico",
        restricoes: "Nenhuma",
        emergencia_nome: "Ricardo Santos (Pai)",
        emergencia_telefone: "(11) 96666-3333",
        emergencia_parentesco: "Pai"
      },
      "felipe_almeida": {
        nome: "Felipe Almeida",
        nascimento: "25/06/2022",
        turma: "Maternal I - B",
        turno: "Tarde",
        alergias: "Nenhuma",
        medicamentos: "Nenhum",
        restricoes: "Nenhuma",
        emergencia_nome: "Patricia Almeida (Mãe)",
        emergencia_telefone: "(11) 97777-2222",
        emergencia_parentesco: "Mãe"
      },
      "gabriela_lima": {
        nome: "Gabriela Lima",
        nascimento: "08/07/2021",
        turma: "Maternal II - C",
        turno: "Manhã",
        alergias: "Picada de inseto",
        medicamentos: "EpiPen (em caso de emergência)",
        restricoes: "Dieta sem açúcar",
        emergencia_nome: "Carlos Lima (Pai)",
        emergencia_telefone: "(11) 94444-1111",
        emergencia_parentesco: "Pai"
      },
      "heitor_pereira": {
        nome: "Heitor Pereira",
        nascimento: "03/09/2021",
        turma: "Maternal II - C",
        turno: "Tarde",
        alergias: "Nenhuma",
        medicamentos: "Nenhum",
        restricoes: "Nenhuma",
        emergencia_nome: "Mariana Pereira (Mãe)",
        emergencia_telefone: "(11) 93333-8888",
        emergencia_parentesco: "Mãe"
      },
      "isabela_rocha": {
        nome: "Isabela Rocha",
        nascimento: "19/11/2021",
        turma: "Maternal II - C",
        turno: "Manhã",
        alergias: "Poeira",
        medicamentos: "Anti-alérgico (uso contínuo)",
        restricoes: "Nenhuma",
        emergencia_nome: "Roberto Rocha (Pai)",
        emergencia_telefone: "(11) 92222-7777",
        emergencia_parentesco: "Pai"
      }
    };

    document.addEventListener('DOMContentLoaded', function() {
      const selectTurma = document.getElementById('select-turma');
      const selectAluno = document.getElementById('select-aluno');
      const btnVerPerfil = document.getElementById('btn-ver-perfil');
      const perfilInfoCard = document.getElementById('perfil-info-card');

      // Popula o dropdown de turmas
      for (const turma in turmas) {
        const option = document.createElement('option');
        option.value = turma;
        option.textContent = turma;
        selectTurma.appendChild(option);
      }

      // Habilita/desabilita o dropdown de alunos e popula
      selectTurma.addEventListener('change', function() {
        const selectedTurma = this.value;
        selectAluno.innerHTML = '<option value="">Selecione um aluno</option>'; // Limpa opções anteriores
        selectAluno.disabled = true;
        btnVerPerfil.disabled = true;
        perfilInfoCard.style.display = 'none'; // Esconde o cartão de informações

        if (selectedTurma) {
          turmas[selectedTurma].forEach(aluno => {
            const option = document.createElement('option');
            option.value = aluno.id;
            option.textContent = aluno.nome;
            selectAluno.appendChild(option);
          });
          selectAluno.disabled = false;
        }
      });

      // Habilita/desabilita o botão "Ver Perfil"
      selectAluno.addEventListener('change', function() {
        btnVerPerfil.disabled = !this.value;
        perfilInfoCard.style.display = 'none'; // Esconde o cartão de informações se o aluno mudar
      });

      // Exibe as informações do perfil
      btnVerPerfil.addEventListener('click', function() {
        const selectedAlunoId = selectAluno.value;
        if (selectedAlunoId && alunosData[selectedAlunoId]) {
          const aluno = alunosData[selectedAlunoId];
          document.getElementById('nome-crianca').value = aluno.nome;
          document.getElementById('nascimento-crianca').value = aluno.nascimento;
          document.getElementById('turma-crianca-display').value = aluno.turma;
          document.getElementById('turno-crianca').value = aluno.turno;
          document.getElementById('alergias').value = aluno.alergias;
          document.getElementById('medicamentos').value = aluno.medicamentos;
          document.getElementById('restricoes-alimentares').value = aluno.restricoes;
          document.getElementById('nome-emergencia').value = aluno.emergencia_nome;
          document.getElementById('telefone-emergencia').value = aluno.emergencia_telefone;
          document.getElementById('parentesco-emergencia').value = aluno.emergencia_parentesco;
          
          perfilInfoCard.style.display = 'block'; // Mostra o cartão de informações
        } else {
          alert('Por favor, selecione um aluno válido.');
          perfilInfoCard.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>